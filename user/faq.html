<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FAQ - Cardano Wallet</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cardano Wallet</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="faq"><a class="header" href="#faq">FAQ</a></h1>
<h2 id="why-arent-my-unused-addresses-imported-when-i-restore-a-wallet"><a class="header" href="#why-arent-my-unused-addresses-imported-when-i-restore-a-wallet">Why aren't my unused addresses imported when I restore a wallet?</a></h2>
<p>This is by virtue of the blockchain. An unused address is by definition unused. Meaning that is doesn't exist on the chain and only exists locally, in the context of the software that has generated it. Different software may use different rules to generate addresses. For example in the past, <em>cardano-sl</em> wallets used a method called random derivation where addresses were created from a root seed and a random index stored within the address itself. Because these indexes were random, it was not possible to restore randomly generated addresses which hadn't been used on chain yet!</p>
<p>More recently, <code>cardano-wallet</code> has been using sequential derivation which follows a very similar principle with the major difference that indexes are derived in sequence, starting from 0. Following this method, wallets aren't allowed to pre-generate too many addresses in advance. As a consequence, it is now possible to restore a wallet across many machines while keeping a very consistent state.</p>
<h2 id="ive-noticed-that-other-blockchains-create-accounts-for-wallets"><a class="header" href="#ive-noticed-that-other-blockchains-create-accounts-for-wallets">I’ve noticed that other blockchains create accounts for wallets?</a></h2>
<p>There are two sides to this question. Either, you are referring to accounts as in Ethereum accounts, or you may refer to accounts of hierarchical deterministic wallets.</p>
<p>In the first scenario, assets in the form of accounts are only supported in the Shelley era of Cardano and only for a specific use-case: rewards. Rewards are indeed implicitly published on the blockchain to mitigate the risk of flooding the network at the end of every epoch with rewards payouts! Hence, each core node keeps track of the current value of each reward account in a Ledger. Money can be withdrawn from this account and is then turned as a UTxO. Please note that funds can never be manually sent to a reward account. The creation of a reward account is done when registering a staking key, via a specific type of transaction.</p>
<p>In the second case, please refer to the <a href="../concepts/hierarchical-deterministic-wallets.html">hierarchical deterministic wallets</a> section in the <em>Key concepts</em>. Cardano wallets typically follow an HD tree of derivation as described in this section.</p>
<h2 id="it-seems-like-i-have-to-install-and-configure-many-apis-and-libraries-what-is-the-fastest-and-most-simple-way-to-do-this-at-once"><a class="header" href="#it-seems-like-i-have-to-install-and-configure-many-apis-and-libraries-what-is-the-fastest-and-most-simple-way-to-do-this-at-once">It seems like I have to install and configure many APIs and libraries, what is the fastest and most simple way to do this at once?</a></h2>
<p>🐳 <a href="https://docs.docker.com/">docker</a> is your friend here! Every component is packaged as docker images. Releases are tagged and the very edge is always accessible. See the various docker guides on the components' repository, and also how to compose services using <a href="https://docs.docker.com/compose/">docker-compose</a>.</p>
<h2 id="is-there-a-reason-why-i-would-have-to-build-from-src"><a class="header" href="#is-there-a-reason-why-i-would-have-to-build-from-src">Is there a reason why I would have to build from src?</a></h2>
<p>If you intend to contribute to Cardano by making code changes to one of the core components, then yes. We recommend using <a href="https://www.haskell.org/cabal/">cabal</a> for a better developer experience.</p>
<p>If you only intend to use the services as-is then, using either the pre-compiled release artifacts for your appropriate platform or a pre-packaged docker image is preferable.</p>
<h2 id="where-is-the-faucet-and-do-i-get-test-ada"><a class="header" href="#where-is-the-faucet-and-do-i-get-test-ada">Where is the faucet and do I get test ADA?</a></h2>
<ul>
<li>https://testnets.cardano.org/en/testnets/cardano/tools/faucet/</li>
</ul>
<h2 id="wallet-backend-specifications"><a class="header" href="#wallet-backend-specifications">Wallet Backend Specifications</a></h2>
<details>
  <summary>Where do the various notations come from?</summary>
<p>Like often in Maths, notations are described within the context of the paper with some a priori hypotheses. For the
Wallet Backend specifications, the notation is inspired from the <a href="https://en.wikipedia.org/wiki/Z_notation">Z notation</a> in a slightly more lightweight form.</p>
</details>
<details>
  <summary>What is <code>dom</code> from <strong>Lemma 2.1</strong></summary>
<p>There are multiple occurrences in the spec of expressions like: <code>(dom u ∩ ins) ◃ u</code>. The meaning of <code>dom u</code> isn't quite clearly defined anywhere but refers to the set of keys from the mapping defined by <code>u: txin ↦ txout</code>. Hence, <code>dom u</code> refers to all <code>txin</code> available in <code>u</code>.</p>
<p>In Haskell, this translates to:</p>
<pre><code class="language-hs">newtype UTxO = UTxO (Map TxIn TxOut)

dom :: UTxO -&gt; Set TxIn
dom (UTxO utxo) = Set.fromList $ Map.keys utxo
</code></pre>
</details>
<details>
    <summary>How do I interpret <code>(Ix -> TxOut)</code> in the definition of <code>Tx</code> in fig. 1?</summary>
<p>In the current wallet implementation it corresponds to <code>NonEmpty TxOut</code>.</p>
</details>
<details>
  <summary>Are we going to update the formal specification?</summary>
<p>Some elements of the specification are written according to the current wallet implementation. Some parts could be simplified or removed, in particular the bits concerning a few metadata that we won't be implementing until a need for them is made clear. A few bits are also missing from the specifications (like the fact that answering <code>isOurs</code> is a stateful operation when dealing with BIP-44, or also, foreign transactions coming from ADA certificates redemption). In the long run, we do want to have the specification updated and proved.</p>
</details>
<h2 id="address-derivation-à-la-bip-44"><a class="header" href="#address-derivation-à-la-bip-44">Address Derivation à la BIP-44</a></h2>
<details>
  <summary>Are we going to support the old Random derivation scheme forever?</summary>
<p>Short answer: yes. Though, we don't necessarily have to support a full set of features for wallets using an old derivation scheme in order to encourage users to migrate to the sequential scheme (a.k.a BIP-44). Most probably, we will forever have to support the old derivation scheme and a few features like tracking of the wallet UTxO and balance, and, allowing funds to be migrated to a wallet using the sequential scheme.</p>
</details>
<h2 id="coin-selection"><a class="header" href="#coin-selection">Coin selection</a></h2>
<details>
  <summary>How many outputs can a single transaction have?</summary>
<p>It depends. To make a transaction, our implementation currently select UTxO from the available UTxO in the wallet in order to cover for the output requested in a transaction. For every output, the wallet actually creates two outputs:</p>
<ul>
<li>The actual output to a target address</li>
<li>A change output to a change address of the source wallet</li>
</ul>
<p>Also, in practice, we strive to make these two outputs relatively equivalent in size, such that one cannot easily guess the change output from the actual one by looking at the transaction; enforcing therefore some privacy for users.</p>
<p>Incidentally, we do consider every requested output in a transaction as an independent problem. This means that a single UTxO can only cover for one of the output (and will in practice, tend to be twice as big, such that we can generate an equivalent corresponding change output). As a consequence, in order to make a transaction to three target outputs, one needs to have at least three UTxOs that are big enough to cover all three outputs independently.</p>
<p>Finally, it's important to notice that the fee calculation runs <strong>after</strong> the coin selection and is divvied across all change outputs. So in practice, the UTxOs only need to independently cover for outputs, but are considered together when adjusting for fees.</p>
<p>A few examples to make this more concrete (in the scenario below, fees are ~<code>180000</code>):</p>
<pre><code>// Both UTxOs can separately cover fee and outputs
Available UTxO:  [200000, 200000]
Payment Distribution: [14, 42]
Result: Ok

// 2 UTxOs, each cannot separately cover fee and outputs, but jointly can
Available UTxO: [100000, 100000]
Payment Distribution: [14, 42]
Result: Ok

// Single UTxOs, big enough to cover for total requested amount &amp; fee, but multiple outputs
Available UTxO: [400000]
Payment Distribution: [14, 42]
Result: Error - UTxO not enough fragmented
</code></pre>
</details>
<details>
  <summary>What is the security issue with re-using addresses?</summary>
<p>In practice, there's none.</p>
</details>
<h2 id="miscellaneous"><a class="header" href="#miscellaneous">Miscellaneous</a></h2>
<details>
  <summary>How do I write a question in this FAQ?</summary>
<p>Use the <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> html tags. The <code>&lt;summary&gt;</code> are nested inside the <code>&lt;details&gt;</code> tag
and the question goes within the <code>&lt;summary&gt;</code> tag as a body. The answer goes below, and can contain any
arbitrary markdown or HTML supported / allowed by GitHub. This produces a nice, readable output.</p>
<p>e.g.</p>
<pre><code class="language-html">  &lt;details&gt;
    &lt;summary&gt;What is love?&lt;/summary&gt;

    Baby don't hurt me.
  &lt;/details&gt;
</code></pre>
</details>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../user/common-use-cases/plutus-application-backend.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../design.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../user/common-use-cases/plutus-application-backend.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../design.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
