<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cardano.Wallet.Primitive.AddressDiscovery</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cardano-wallet-core-2019.9.13: The Wallet Backend for a Cardano node.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>&#169; 2018-2019 IOHK</td></tr><tr><th>License</th><td>Apache-2.0</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Wallet.Primitive.AddressDiscovery</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Abstractions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains types for address discovery. The two address discovery
 schemes implemented are:</p><ul><li><a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html">Cardano.Wallet.Primitive.AddressDiscovery.Sequential</a></li><li><a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html">Cardano.Wallet.Primitive.AddressDiscovery.Random</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="#t:IsOurs">IsOurs</a> s <span class="keyword">where</span><ul class="subs"><li><a href="#v:isOurs">isOurs</a> :: <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; s -&gt; (<a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>, s)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOurs" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOurs</a> s =&gt; <a href="#t:IsOwned">IsOwned</a> s key <span class="keyword">where</span><ul class="subs"><li><a href="#v:isOwned">isOwned</a> :: s -&gt; (key <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:RootK" title="Cardano.Wallet.Primitive.AddressDerivation">RootK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;) -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (key <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:GenChange">GenChange</a> s <span class="keyword">where</span><ul class="subs"><li><a href="#v:genChange">genChange</a> :: <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot; -&gt; s -&gt; (<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>, s)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:CompareDiscovery">CompareDiscovery</a> s <span class="keyword">where</span><ul class="subs"><li><a href="#v:compareDiscovery">compareDiscovery</a> :: s -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:KnownAddresses">KnownAddresses</a> s <span class="keyword">where</span><ul class="subs"><li><a href="#v:knownAddresses">knownAddresses</a> :: s -&gt; [<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>]</li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Abstractions</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:IsOurs" class="def">IsOurs</a> s <span class="keyword">where</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#IsOurs" class="link">Source</a> <a href="#t:IsOurs" class="selflink">#</a></p><div class="doc"><p>This abstraction exists to give us the ability to keep the wallet business
 logic agnostic to the address derivation and discovery mechanisms.</p><p>This is needed because two different address schemes lives on Cardano:</p><ul><li>A hierarchical random scheme:
      rather <code>custom</code> made, with several flaws; this is the original and now
      legacy address scheme.</li><li>A hierarchical sequential scheme:
      a new scheme based on the BIP-0044 specification, which is better suited
      for our present needs.</li></ul><p>In practice, we will need a wallet that can support both, even if not at the
 same time, and this little abstraction can buy us this without introducing
 too much overhead.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:isOurs" class="def">isOurs</a> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#isOurs" class="link">Source</a> <a href="#v:isOurs" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; s</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>, s)</td><td class="doc"><p>Checks whether an address is ours or not.</p></td></tr></table></div></div><div class="subs instances"><details id="i:IsOurs" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsOurs:IsOurs:1"></span> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:KeyToAddress" title="Cardano.Wallet.Primitive.AddressDerivation">KeyToAddress</a> t <a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a> =&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOurs" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOurs</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Sequential.html#line-408" class="link">Source</a> <a href="#t:IsOurs" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsOurs:IsOurs:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html">Cardano.Wallet.Primitive.AddressDiscovery.Sequential</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:isOurs">isOurs</a> :: <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t -&gt; (<a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>, <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t) <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#isOurs" class="link">Source</a> <a href="#v:isOurs" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsOurs:IsOurs:2"></span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOurs" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOurs</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Random.html#line-107" class="link">Source</a> <a href="#t:IsOurs" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsOurs:IsOurs:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html">Cardano.Wallet.Primitive.AddressDiscovery.Random</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:isOurs">isOurs</a> :: <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t -&gt; (<a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>, <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t) <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#isOurs" class="link">Source</a> <a href="#v:isOurs" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOurs" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOurs</a> s =&gt; <a id="t:IsOwned" class="def">IsOwned</a> s key <span class="keyword">where</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#IsOwned" class="link">Source</a> <a href="#t:IsOwned" class="selflink">#</a></p><div class="doc"><p>More powerful than <code><a href="Cardano-Wallet-Primitive-AddressDiscovery.html#v:isOurs" title="Cardano.Wallet.Primitive.AddressDiscovery">isOurs</a></code>, this abstractions offer the underlying state
 the ability to find / compute the address private key corresponding to a
 given known address.</p><p>Requiring <code><a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOwned" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOwned</a></code> as a constraint supposed that there is a way to recover
 the root private key of a particular wallet. This isn't true for externally
 owned wallet which would delegate its key management to a third party (like
 a hardware Ledger or Trezor).</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:isOwned" class="def">isOwned</a> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#isOwned" class="link">Source</a> <a href="#v:isOwned" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: s</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (key <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:RootK" title="Cardano.Wallet.Primitive.AddressDerivation">RootK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (key <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;)</td><td class="doc"><p>Derive the private key corresponding to an address. Careful, this
 operation can be costly. Note that the state is discarded from this
 function as we do not intend to discover any addresses from this
 operation; This is merely a lookup from known addresses.</p></td></tr></table></div></div><div class="subs instances"><details id="i:IsOwned" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsOwned:IsOwned:1"></span> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:KeyToAddress" title="Cardano.Wallet.Primitive.AddressDerivation">KeyToAddress</a> t <a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a> =&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOwned" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOwned</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t) <a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a></span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Sequential.html#line-436" class="link">Source</a> <a href="#t:IsOwned" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsOwned:IsOwned:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html">Cardano.Wallet.Primitive.AddressDiscovery.Sequential</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:isOwned">isOwned</a> :: <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t -&gt; (<a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:RootK" title="Cardano.Wallet.Primitive.AddressDerivation">RootK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;) -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;) <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#isOwned" class="link">Source</a> <a href="#v:isOwned" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsOwned:IsOwned:2"></span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:IsOwned" title="Cardano.Wallet.Primitive.AddressDiscovery">IsOwned</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t) <a href="Cardano-Wallet-Primitive-AddressDerivation-Random.html#t:RndKey" title="Cardano.Wallet.Primitive.AddressDerivation.Random">RndKey</a></span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Random.html#line-113" class="link">Source</a> <a href="#t:IsOwned" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsOwned:IsOwned:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html">Cardano.Wallet.Primitive.AddressDiscovery.Random</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:isOwned">isOwned</a> :: <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t -&gt; (<a href="Cardano-Wallet-Primitive-AddressDerivation-Random.html#t:RndKey" title="Cardano.Wallet.Primitive.AddressDerivation.Random">RndKey</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:RootK" title="Cardano.Wallet.Primitive.AddressDerivation">RootK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;) -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Cardano-Wallet-Primitive-AddressDerivation-Random.html#t:RndKey" title="Cardano.Wallet.Primitive.AddressDerivation.Random">RndKey</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:XPrv" title="Cardano.Wallet.Primitive.AddressDerivation">XPrv</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;) <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#isOwned" class="link">Source</a> <a href="#v:isOwned" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:GenChange" class="def">GenChange</a> s <span class="keyword">where</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#GenChange" class="link">Source</a> <a href="#t:GenChange" class="selflink">#</a></p><div class="doc"><p>Abstracting over change address generation. In theory, this is only needed
 for sending transactions on a wallet following a particular scheme. This
 abstractions allows for defining an heuristic to pick new change address. For
 instance, in BIP-44, change addresses belong to a particular change chain
 (also called &quot;Internal Chain&quot;).</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:genChange" class="def">genChange</a> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#genChange" class="link">Source</a> <a href="#v:genChange" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot;</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; s</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>, s)</td><td class="doc"><p>Generate a new change address for the given scheme. The rules for
 generating a new change address depends on the underlying scheme.</p></td></tr></table></div></div><div class="subs instances"><details id="i:GenChange" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:GenChange:GenChange:1"></span> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:KeyToAddress" title="Cardano.Wallet.Primitive.AddressDerivation">KeyToAddress</a> t <a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a> =&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:GenChange" title="Cardano.Wallet.Primitive.AddressDiscovery">GenChange</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Sequential.html#line-420" class="link">Source</a> <a href="#t:GenChange" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:GenChange:GenChange:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html">Cardano.Wallet.Primitive.AddressDiscovery.Sequential</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:genChange">genChange</a> :: <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot; -&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t -&gt; (<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>, <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t) <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#genChange" class="link">Source</a> <a href="#v:genChange" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:GenChange:GenChange:2"></span> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:KeyToAddress" title="Cardano.Wallet.Primitive.AddressDerivation">KeyToAddress</a> t <a href="Cardano-Wallet-Primitive-AddressDerivation-Random.html#t:RndKey" title="Cardano.Wallet.Primitive.AddressDerivation.Random">RndKey</a> =&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:GenChange" title="Cardano.Wallet.Primitive.AddressDiscovery">GenChange</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Random.html#line-146" class="link">Source</a> <a href="#t:GenChange" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:GenChange:GenChange:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html">Cardano.Wallet.Primitive.AddressDiscovery.Random</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:genChange">genChange</a> :: <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Passphrase" title="Cardano.Wallet.Primitive.AddressDerivation">Passphrase</a> &quot;encryption&quot; -&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t -&gt; (<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>, <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t) <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#genChange" class="link">Source</a> <a href="#v:genChange" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:CompareDiscovery" class="def">CompareDiscovery</a> s <span class="keyword">where</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#CompareDiscovery" class="link">Source</a> <a href="#t:CompareDiscovery" class="selflink">#</a></p><div class="doc"><p>Ordering addresses by discovery date.</p><p>If <code>a1</code> has been discovered before <code>a2</code>, then the following equation holds:</p><pre>compareDiscovery s a1 a2 == LT
</pre><p>If <code>a1</code> has been discovered after <code>a2</code>, then the following equation holds:</p><pre>compareDiscovery s a1 a2 == GT
</pre><p>Note that, if an address isn't known it is considered not discovered and
 therefore, is always _greater than_ any known address.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:compareDiscovery" class="def">compareDiscovery</a> :: s -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#compareDiscovery" class="link">Source</a> <a href="#v:compareDiscovery" class="selflink">#</a></p></div><div class="subs instances"><details id="i:CompareDiscovery" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CompareDiscovery:CompareDiscovery:1"></span> <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:KeyToAddress" title="Cardano.Wallet.Primitive.AddressDerivation">KeyToAddress</a> t <a href="Cardano-Wallet-Primitive-AddressDerivation-Sequential.html#t:SeqKey" title="Cardano.Wallet.Primitive.AddressDerivation.Sequential">SeqKey</a> =&gt; <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:CompareDiscovery" title="Cardano.Wallet.Primitive.AddressDiscovery">CompareDiscovery</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Sequential.html#line-458" class="link">Source</a> <a href="#t:CompareDiscovery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CompareDiscovery:CompareDiscovery:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html">Cardano.Wallet.Primitive.AddressDiscovery.Sequential</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compareDiscovery">compareDiscovery</a> :: <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#compareDiscovery" class="link">Source</a> <a href="#v:compareDiscovery" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CompareDiscovery:CompareDiscovery:2"></span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:CompareDiscovery" title="Cardano.Wallet.Primitive.AddressDiscovery">CompareDiscovery</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Random.html#line-215" class="link">Source</a> <a href="#t:CompareDiscovery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CompareDiscovery:CompareDiscovery:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html">Cardano.Wallet.Primitive.AddressDiscovery.Random</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compareDiscovery">compareDiscovery</a> :: <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#compareDiscovery" class="link">Source</a> <a href="#v:compareDiscovery" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:KnownAddresses" class="def">KnownAddresses</a> s <span class="keyword">where</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#KnownAddresses" class="link">Source</a> <a href="#t:KnownAddresses" class="selflink">#</a></p><div class="doc"><p>Extract the list of all known addresses.</p><p>NOTE: Change addresses aren't considered &quot;known&quot; until they've been used. The
 rationale is that, we don't want users or consumers of the wallet to be using
 change addresses prematurely.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:knownAddresses" class="def">knownAddresses</a> :: s -&gt; [<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>] <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#knownAddresses" class="link">Source</a> <a href="#v:knownAddresses" class="selflink">#</a></p></div><div class="subs instances"><details id="i:KnownAddresses" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:KnownAddresses:KnownAddresses:1"></span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:KnownAddresses" title="Cardano.Wallet.Primitive.AddressDiscovery">KnownAddresses</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Sequential.html#line-469" class="link">Source</a> <a href="#t:KnownAddresses" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:KnownAddresses:KnownAddresses:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html">Cardano.Wallet.Primitive.AddressDiscovery.Sequential</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:knownAddresses">knownAddresses</a> :: <a href="Cardano-Wallet-Primitive-AddressDiscovery-Sequential.html#t:SeqState" title="Cardano.Wallet.Primitive.AddressDiscovery.Sequential">SeqState</a> t -&gt; [<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>] <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#knownAddresses" class="link">Source</a> <a href="#v:knownAddresses" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:KnownAddresses:KnownAddresses:2"></span> <a href="Cardano-Wallet-Primitive-AddressDiscovery.html#t:KnownAddresses" title="Cardano.Wallet.Primitive.AddressDiscovery">KnownAddresses</a> (<a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t)</span> <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.Random.html#line-218" class="link">Source</a> <a href="#t:KnownAddresses" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:KnownAddresses:KnownAddresses:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html">Cardano.Wallet.Primitive.AddressDiscovery.Random</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:knownAddresses">knownAddresses</a> :: <a href="Cardano-Wallet-Primitive-AddressDiscovery-Random.html#t:RndState" title="Cardano.Wallet.Primitive.AddressDiscovery.Random">RndState</a> t -&gt; [<a href="Cardano-Wallet-Primitive-Types.html#t:Address" title="Cardano.Wallet.Primitive.Types">Address</a>] <a href="src/Cardano.Wallet.Primitive.AddressDiscovery.html#knownAddresses" class="link">Source</a> <a href="#v:knownAddresses" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>